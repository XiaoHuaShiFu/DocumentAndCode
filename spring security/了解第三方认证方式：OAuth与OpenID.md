# 了解第三方认证方式：OAuth与OpenID

![img](https://csdnimg.cn/release/blogv2/dist/pc/img/original.png)

[xihuanyuye](https://me.csdn.net/xihuanyuye) 2018-07-20 09:35:49 ![img](https://csdnimg.cn/release/blogv2/dist/pc/img/articleReadEyes.png) 3110 ![img](https://csdnimg.cn/release/blogv2/dist/pc/img/tobarCollect.png) 收藏 1

分类专栏： [编程语言](https://blog.csdn.net/xihuanyuye/category_7699437.html)

版权

**一、常规认证**

网站的常规认证方式，就是需要用户在登陆的时候输入用户名密码，再根据该用户具体对应的权限，查看该用户可以访问的目录及可以进行的功能。

在java编程领域，该方面的功能是可以通过shiro或者Spring Security来完成。都可以对用户进行较为详细的权限控制。

**二、第三方认证**

OAuth与OpenID可以归类为第三方认证方式，及对该用户的认证通过非本服务进行认证。下面具体解释这两者的原理方式和区别。

***1、OAuth\***

OAuth 是一个开放标准，允许用户让第三方应用访问该用户在某一网站上存储的私密的资源（如照片，视频，联系人列表），而无需将用户名和密码提供给第三方应用。目前，OAuth 的最新版本为 2.0。

OAuth 允许用户提供一个令牌，而不是用户名和密码来访问他们存放在特定服务提供者的数据。每一个令牌授权一个特定的网站（例如，你需要临时访问的网站)在特定的时段（例如，接下来的2小时内）内访问特定的资源（例如仅仅是某一相册中的视频）。这样，OAuth 允许用户授权第三方网站访问他们存储在另外的服务提供者上的信息，而不需要分享他们的访问许可或他们数据的所有内容。

***2、OpenID\***

OpenID 系统的第一部分是身份验证，即如何通过 URI 来认证用户身份。目前的网站都是依靠用户名和密码来登录认证，这就意味着大家在每个网站都需要注册用户名和密码，即便你使用的是同样的密码。如果使用 OpenID ，你的网站地址（URI）就是你的用户名，而你的密码安全的存储在一个 OpenID 服务网站上（你可以自己建立一个 OpenID 服务网站，也可以选择一个可信任的 OpenID 服务网站来完成注册）。

OpenID仅仅做一个用户认证的功能，不能拿到用户的任何信息，这样往往在用在企业内部的不同服务之间较为常用。

**三、通俗解释**

现在很多网站都可以用第三方的账号登陆，比如，现在我要登录淘宝买东西，而如果我没有淘宝的账号，我也可以用微博的账号登录，这个微博账号就是第三方账号了。

OpenID强调验证（authentication），而OAuth强调授权（authorization）。 验证就是说“我”是不是(微博用户)，而授权是说“淘宝”可不可以，而可不可以的前提则是“我”是不是。

过程大概是这样：

我点开微博登录的链接，淘宝就跳到微博登录页面，问我你是不是那个微博用户，是的话你用你的账号密码去登录，你先去给微博验明正身，是的话再来找我。
好啦，我屁颠屁颠输入账号跟密码，如果可以登录说明我这个身份是对的，通过了微博的验证后微博就告诉淘宝说，没错没错，我家里确实有么这个家伙。

上面这些都是OpenID的责任，而且OpenID也只做这件事，就是前面说的是不是。

然后呢，淘宝就说好好，有你微博验证我放心，于是就让我通过了。

等等，这时淘宝只知道微博他们家有我存在，但是并不知道我在微博家里叫什么名，做过什么事，其实淘宝也不应该知道，对吧，要是知道我在微博家老是到处举报别人卖假货坑顾客什么的，那我让你进我大淘宝岂不是会坏了我的大事，你丫是来捣乱的吧(至于淘宝为什么会这么想，哼哼～你们懂的)

所以，淘宝通常就会做一件事，什么事呢？这时就轮到OAuth出场了，淘宝在把我交给微博验明正身的时候其实还“忽悠“了我，明明只是验个身份，却问我要不要把我在微博家叫什么名做过什么事也告诉它(就是通常看到的几个打勾选项：允许访问我的昵称/允许访问我的头像等等)，淘宝说这样就可以为我提供更多的服务，什么服务呢？模凌两可，我呢看到有更多服务也没多想就打勾了，不要白不要是吧。

这里就用到了OAuth，就是前面说的可不可以，这个要是真发现我在微博家干过的事，会不会把我加入重点监控对象，那就要看淘宝有多少节操了

其实现在很多的第三方登录都是这样，验证身份的同时顺便把你在其他地方的资料拿到手，名曰资料共享，其实共享一些非敏感信息倒也无妨，还可以免去了每去一个新网站都要填写一大堆重复资料的问题。但是我要吐槽的是，***很多网站明明让我用第三方账号登录，你都OAuth了为毛登录后还要再填一遍邮箱昵称之类的东西？\***早知道这样我还不如直接在你这边注册就好了，在我看来这是用户体验的问题了。

**四、参考文献**

OAuth 2.0 认证的原理与实践
https://blog.csdn.net/kkkloveyou/article/details/65531491
用通俗的例子解释OAuth和OpenID的区别【原】
https://www.cnblogs.com/linyc/p/4338092.html
安全框架Shiro和Spring Security比较
https://www.cnblogs.com/aoeiuv/p/5868128.html
微信小程序授权获取用户详细信息openid的实例详解
https://www.jb51.net/article/124132.htm